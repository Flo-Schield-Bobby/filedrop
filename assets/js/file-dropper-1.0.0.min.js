var handlerCallback,FileDropper=function(e,t){this.name="FileDropper",this.version="1.0.0",this.init(e);this.process=t||function(){alert("Good, I received your file(e) but you didn't say me what I am supposed to do with ?!")}};FileDropper.prototype={on:function(e,t,n,r){if("addEventListener"in e){try{e.addEventListener(t,n,r)}catch(i){if(typeof n==="object"&&n.handleEvent){e.addEventListener(t,function(e){n.handleEvent.call(n,e)},r)}else{throw i}}}else if("attachEvent"in e){if(typeof n==="object"&&n.handleEvent){handlerCallback=function(){n.handleEvent.call(n)};e.attachEvent("on"+t,handlerCallback)}else{e.attachEvent("on"+t,n)}}else{e["on"+t]=n}},off:function(e,t,n,r){if("removeListener"in e){try{e.removeEventListener(t,n,r)}catch(i){if(typeof n==="object"&&n.handleEvent){e.removeEventListener(t,function(e){n.handleEvent.call(n,e)},r)}else{throw i}}}else if("detachEvent"in e){if(typeof n==="object"&&n.handleEvent){e.detachEvent("on"+t,handlerCallback)}else{e.detachEvent("on"+t,n)}}else{e["on"+t]=null}},handleEvent:function(e){e.preventDefault();e=e||window.event;var t=[];this.blockEvent(e);switch(e.type){case"dragenter":this.addClass(this.dropArea,"hover");break;case"dragleave":case"dragend":if(this.checkRelativePosition(e)===false){this.removeClass(this.dropArea,"hover")}break;case"drop":this.removeClass(this.dropArea,"hover");if(e.dataTransfer&&e.dataTransfer.files){t=e.dataTransfer.files}this.process.apply(this,[t,e,this]);break;default:break}},blockEvent:function(e){if(e.preventDefault){e.preventDefault();e.returnValue=false}if(e.stopPropagation){e.stopPropagation()}return false},checkRelativePosition:function(e){var t=e.clientX,n=e.clientY,r=this.dropArea.offsetLeft,i=r+this.dropArea.clientWidth,s=this.dropArea.offsetTop,o=s+this.dropArea.clientHeight,u=false;if(t>r&&t<i&&n>s&&n<o){u=true}return u},addClass:function(e,t){if(e.className.search(t)===-1){if(e.className.length===0){e.className=t}else{e.className+=" "+t}}},removeClass:function(e,t){e.className=e.className.replace(t,"")},init:function(e){this.dropArea=e||document.body;if("draggable"in this.dropArea){this.on(window,"dragover",this.blockEvent,false);this.on(window,"drop",this.blockEvent,false);this.on(this.dropArea,"dragenter",this,false);this.on(this.dropArea,"dragover",this,false);this.on(this.dropArea,"dragleave",this,false);this.on(this.dropArea,"dragend",this,false);this.on(this.dropArea,"drop",this,false)}else{alert("Your browser cannot use the HTML5 drag & drop API")}return this}}